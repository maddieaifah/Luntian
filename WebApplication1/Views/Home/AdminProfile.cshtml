@{
    ViewData["Title"] = "Admin Profile";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LUNTIAN | Admin Profile</title>
    <link rel="stylesheet" href="~/css/admin-dashboard.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/admin-profile.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
<div class="hamburger" onclick="toggleSidebar()">☰</div>
<div class="admin-container">
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="logo-section">
            <img src="~/images/logo only luntian.png" class="logo-img" />
            <h2 class="logo-text">LUNTIAN</h2>
        </div>
        <nav>
            <a asp-action="Dashboard" asp-controller="Home"><i class="fas fa-chart-pie"></i> Dashboard</a>
            <a asp-action="VolunteerBoard" asp-controller="Home"><i class="fas fa-hand-holding-heart"></i> Volunteer Board</a>
            <a class="active" asp-action="AdminProfile" asp-controller="Home"><i class="fas fa-user-cog"></i> Profile</a>
        </nav>
        <a asp-action="RoleSelection" asp-controller="Home" class="logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
    </div>

    <!-- Main Content -->
    <div class="main-dashboard">
        <div class="admin-profile-container">
            <!-- Left: Profile Info -->
            <div class="profile-card">
                <h2 class="section-title">PROFILE</h2>
                <div class="profile-box">
                    <div class="profile-icon-circle">
                        <img src="~/images/profile.png" alt="Icon" />
                    </div>
                    <h3 class="brgy-name" id="brgyNameText">Barangay 630</h3>
                    <input type="text" id="brgyNameInput" class="profile-input" value="Barangay 630" style="display:none" />

                    <p class="brgy-sub" id="brgySubText">Sta. Mesa, Manila</p>
                    <input type="text" id="brgySubInput" class="profile-input" value="Sta. Mesa, Manila" style="display:none" />

                    <p class="brgy-address" id="brgyAddressText">
                        6th Floor, Building Regulatory Offices (Civic Center D), Mayaman Street, QC
                    </p>
                    <textarea id="brgyAddressInput" class="profile-input" style="display:none">6th Floor, Building Regulatory Offices (Civic Center D), Mayaman Street, QC</textarea>

                    <div class="profile-buttons">
                        <button class="edit-profile-btn" onclick="editProfile()">Edit</button>
                        <button class="edit-profile-btn save-btn" style="display:none" onclick="saveProfile()">Save</button>
                    </div>
                </div>
            </div>

            <!-- Right: Volunteer Events -->
            <div class="events-card">
                <h2 class="section-title">VOLUNTEER EVENTS</h2>
                <div class="events-scroll-container" id="eventContainer">
                    <!-- Sample event -->
                    <div class="event-box">
                        <h4>Clean & Green Drive 2025</h4>
                        <p>Date: June 15, 2025</p>
                        <p>Time: 7:00 AM – 12:00 PM</p>
                        <p>Location: Barangay Hall Grounds</p>
                        <div class="event-actions">
                            <button class="view-btn" onclick="window.location.href='/Home/VolunteerBoard'">VIEW</button>
                            <button class="delete-btn" onclick="confirmDelete()">DELETE</button>
                            <button class="edit-btn" onclick="openEditForm()">EDIT</button>
                        </div>
                    </div>
                    <div class="event-box"><h4>Tree Planting</h4><p>...</p></div>
                    <div class="event-box"><h4>Recycling Drive</h4><p>...</p></div>
                    <div class="event-box"><h4>Feeding Program</h4><p>...</p></div>
                    <div class="event-box"><h4>Blood Donation</h4><p>...</p></div>
                    <div class="event-box"><h4>River Clean-Up</h4><p>...</p></div>
                    <div class="event-box"><h4>Disaster Preparedness</h4><p>...</p></div>
                </div>
                <div class="add-button-container">
                    <button class="add-event-btn" onclick="openAddForm()">ADD</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add Modal -->
<div class="modal" id="eventAddModal">
    <div class="modal-content">
        <h3>Add Volunteer Event</h3>
        <img src="#" class="preview" style="display:none" id="addPreviewImg">
        <input type="file" accept="image/*" onchange="previewImage(this, 'addPreviewImg')">
        <input type="text" placeholder="Title">
        <input type="text" placeholder="Location">
        <input type="datetime-local">
        <textarea placeholder="Description"></textarea>
        <button class="add-btn" onclick="closeAddModal()">Submit</button>
    </div>
</div>

<!-- Edit Modal -->
<div class="modal" id="eventEditModal">
    <div class="modal-content">
        <h3>Edit Volunteer Event</h3>
        <img src="~/images/event.png" class="preview">
        <input type="file" accept="image/*">
        <input type="text" placeholder="Title" value="Clean-Up Drive">
        <input type="text" placeholder="Location" value="Zone 5, Barangay 360">
        <input type="datetime-local" value="2025-06-30T08:00">
        <textarea placeholder="Description">Join us in clearing the riverbank of debris...</textarea>
        <button class="add-btn" onclick="closeEditModal()">Save Changes</button>
    </div>
</div>

<!-- Delete Confirm Modal -->
<div class="confirm-modal" id="confirmModal">
    <div class="confirm-box">
        <p>Are you sure you want to delete this event?</p>
        <div style="text-align:center; margin-top:10px;">
            <button onclick="proceedAction()">Yes</button>
            <button onclick="closeConfirm()">No</button>
        </div>
    </div>
</div>

<script>
    function toggleSidebar() {
        document.getElementById("sidebar").classList.toggle("active");
    }
    function editProfile() {
        toggleProfileFields(true);
    }
    function saveProfile() {
        document.getElementById("brgyNameText").innerText = document.getElementById("brgyNameInput").value;
        document.getElementById("brgySubText").innerText = document.getElementById("brgySubInput").value;
        document.getElementById("brgyAddressText").innerText = document.getElementById("brgyAddressInput").value;
        toggleProfileFields(false);
        alert("Changes saved.");
    }
    function toggleProfileFields(edit) {
        document.getElementById("brgyNameText").style.display = edit ? "none" : "block";
        document.getElementById("brgySubText").style.display = edit ? "none" : "block";
        document.getElementById("brgyAddressText").style.display = edit ? "none" : "block";
        document.getElementById("brgyNameInput").style.display = edit ? "block" : "none";
        document.getElementById("brgySubInput").style.display = edit ? "block" : "none";
        document.getElementById("brgyAddressInput").style.display = edit ? "block" : "none";
        document.querySelector(".edit-profile-btn").style.display = edit ? "none" : "inline-block";
        document.querySelector(".save-btn").style.display = edit ? "inline-block" : "none";
    }
    function previewImage(input, targetId) {
        const reader = new FileReader();
        reader.onload = function () {
            const img = document.getElementById(targetId);
            img.src = reader.result;
            img.style.display = 'block';
        };
        reader.readAsDataURL(input.files[0]);
    }
    function openAddForm() {
        document.getElementById("eventAddModal").style.display = "flex";
    }
    function closeAddModal() {
        document.getElementById("eventAddModal").style.display = "none";
        alert("Event added.");
    }
    function openEditForm() {
        document.getElementById("eventEditModal").style.display = "flex";
    }
    function closeEditModal() {
        document.getElementById("eventEditModal").style.display = "none";
        alert("Changes saved.");
    }
    function confirmDelete() {
        document.getElementById("confirmModal").style.display = "flex";
    }
    function closeConfirm() {
        document.getElementById("confirmModal").style.display = "none";
    }
    function proceedAction() {
        alert("Event deleted.");
        closeConfirm();
    }
    window.addEventListener("click", function (e) {
        if (e.target.classList.contains("modal")) {
            e.target.style.display = "none";
        }
    });
</script>
</body>
</html>
